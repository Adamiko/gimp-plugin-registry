* add cancel signal trap
* add option "apply to all layers" (?)
* improve interface
* improve the core
